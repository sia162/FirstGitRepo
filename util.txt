utility funtion for version three